<div class="admin-page">
  <!-- ðŸ”¹ FILTROS -->
  <div class="filters">
    <label>
      Filtrar por Status:
      <select [(ngModel)]="filterStatus" (change)="filterByStatus()">
        <option value="">Todos</option>
        <option value="pending">Pending</option>
        <option value="printing">Printing</option>
        <option value="binding">Binding</option>
        <option value="ready">Ready</option>
        <option value="delivered">Delivered</option>
        <option value="cancelled">Cancelled</option>
      </select>
    </label>

    <label>
      Filtrar por Apellido:
      <input type="text" [(ngModel)]="filterSurname" (input)="filterBySurname()" placeholder="Escriba apellido">
    </label>

    <button (click)="clearFilters()">Limpiar filtros</button>
  </div>

  <!-- ðŸ”¹ LISTADO DE CARRITOS -->
  @if(filteredCarts.length === 0){
      <p>No hay pedidos pendientes</p>
  }@else{
      <div class="carts">
          @for(cart of filteredCarts; track $index){
               <div class="cart">  <!-- aplicar routerlink para ver detalles -->
                  <div class="cart-status">
                      <span>{{cart.status}}</span>
                  </div>

                  <div class="cart-resumen">
                      <p>Cliente:</p>
                      <p>{{cart.customer?.name}} {{cart.customer?.surname}}</p>
                  </div>

                  <div class="cart-archivos">
                      <p>Archivos:</p>
                      <p>{{cart.fileSummary}}</p>
                      <p>{{cart.orderItems.length}} items en total</p>
                  </div>

                  <div class="cart-total">
                      <p>Total:</p>
                      <p>${{cart.total | number:'1.2-2'}}</p>
                  </div>
              </div>               
          }
      </div>
  }
</div>