<form [formGroup]="orderForm" (ngSubmit)="addToCart()">
  <legend>Sube tu archivo</legend>
  <fieldset>
    <div class="file-input-wrapper" (click)="fileInput.click()">
      <span>{{ selectedFileName }}</span>
      <input accept=".pdf,image/*,.txt" type="file" #fileInput (change)="onFileSelected($event)" id="fileUpload">
    </div>
    <p>
      <legend>Paginas y anillado</legend>
      <strong>Información del archivo:</strong>
      <ng-container *ngIf="selectedFile; else noFile">
        <span *ngIf="isPdf">
          Páginas: {{ pageCount ?? 'Cargando...' }}
        </span>
        <span *ngIf="isImage">
          Dimensiones: {{ imageWidth ?? 0 }}x{{ imageHeight ?? 0 }} px
        </span>
      </ng-container>
      <ng-template #noFile>-</ng-template>
    </p>
  </fieldset>
  <fieldset>
    <label for="copies">Número de copias:</label>
    <input type="number" id="copies" formControlName="copies" min="1">
  </fieldset>
  <fieldset>
    <label for="doubleSided">Doble cara</label>
    <input type="checkbox" id="doubleSided" formControlName="isDoubleSided">
    <label for="color">Color</label>
    <input type="checkbox" id="color" formControlName="isColor">
  </fieldset>
  <fieldset>
    <label for="binding">Anillado:</label>
    <select id="binding" formControlName="binding">
      <option [ngValue]="null">Sin anillado</option>
      <option value="ringed">Anillado</option>
      <option value="stapled">Abrochado</option>
    </select>
  </fieldset>
  <fieldset>
    <label for="comments">Comentarios:</label>
    <textarea id="comments" formControlName="comments"></textarea>
  </fieldset>

  @if (calculatedPrice !== null) {
  <section class="result">
    <h3>Precio total: ${{ calculatedPrice }}</h3>
  </section>
}
  <button type="submit">Agregar al Carrito</button>
</form>